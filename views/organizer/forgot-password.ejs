<%
const escapeHtml = (str) => str ? String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;') : '';
const body = `
<div class="form-page login-page">
  <h1>Mot de passe oublie</h1>

  ${error ? '<div class="alert alert-error">' + escapeHtml(error) + '</div>' : ''}

  <p style="margin-bottom: 1.5rem; color: #666;">Entrez votre adresse email et nous vous enverrons un lien pour reinitialiser votre mot de passe.</p>

  <form action="/organizer/forgot-password" method="POST" class="login-form">
    <input type="hidden" name="_csrf" value="${csrfToken}">
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" name="email" required
             placeholder="votre@email.com" autofocus>
    </div>
    <button type="submit" class="btn btn-primary">Envoyer le lien de reinitialisation</button>
  </form>

  <p class="back-link"><a href="/organizer/login">Retour a la connexion</a></p>
</div>
` %>
<%- include('../layout', { title, organizer: null, body }) %>
